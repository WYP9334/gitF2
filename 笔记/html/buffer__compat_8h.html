<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libevent-2.1.8: E:/笔记/libevent-2.1.8-stable/include/event2/buffer_compat.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libevent-2.1.8
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_885cc87fac2d91e269af0a5a959fa5f6.html">E:</a></li><li class="navelem"><a class="el" href="dir_e0737d9736c30754717c067382877683.html">笔记</a></li><li class="navelem"><a class="el" href="dir_377e8ef8e80a313d1c3a754eb3f26a1b.html">libevent-2.1.8-stable</a></li><li class="navelem"><a class="el" href="dir_5708c2d9d68deda293c436e4a44eaa6a.html">include</a></li><li class="navelem"><a class="el" href="dir_12d53d16af40e50e6892e028525770af.html">event2</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">buffer_compat.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;event2/visibility.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for buffer_compat.h:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__compat_8h__incl.png" border="0" usemap="#_e_1_2_xE7_xAC_x94_xE8_xAE_xB0_2libevent-2_81_88-stable_2include_2event2_2buffer__compat_8h" alt=""/></div>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__compat_8h__dep__incl.png" border="0" usemap="#_e_1_2_xE7_xAC_x94_xE8_xAE_xB0_2libevent-2_81_88-stable_2include_2event2_2buffer__compat_8hdep" alt=""/></div>
</div>
</div>
<p><a href="buffer__compat_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab8d9564980e380cf1887f2be70f687ad"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer__compat_8h.html#ab8d9564980e380cf1887f2be70f687ad">EVBUFFER_LENGTH</a>(x)&#160;&#160;&#160;<a class="el" href="buffer_8h.html#a808db707e84e20229b2aafdcaba6c708">evbuffer_get_length</a>(x)</td></tr>
<tr class="separator:ab8d9564980e380cf1887f2be70f687ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c57a451c56dc1483a1c8aaeb9b92cc6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer__compat_8h.html#a1c57a451c56dc1483a1c8aaeb9b92cc6">EVBUFFER_DATA</a>(x)&#160;&#160;&#160;<a class="el" href="buffer_8h.html#acd73ca99c3a793ea26c43307b9723bd6">evbuffer_pullup</a>((x), -1)</td></tr>
<tr class="separator:a1c57a451c56dc1483a1c8aaeb9b92cc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a6df4ae9e3d819c487ded545d2e1d41b0"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer__compat_8h.html#a6df4ae9e3d819c487ded545d2e1d41b0">evbuffer_cb</a>) (struct <a class="el" href="structevbuffer.html">evbuffer</a> *buffer, size_t old_len, size_t new_len, void *arg)</td></tr>
<tr class="separator:a6df4ae9e3d819c487ded545d2e1d41b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4fea308404ec34c5daeec61f5e05bc08"><td class="memItemLeft" align="right" valign="top">EVENT2_EXPORT_SYMBOL char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer__compat_8h.html#a4fea308404ec34c5daeec61f5e05bc08">evbuffer_readline</a> (struct <a class="el" href="structevbuffer.html">evbuffer</a> *buffer)</td></tr>
<tr class="separator:a4fea308404ec34c5daeec61f5e05bc08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad761da8c9bd8a0ab98aa19c2f1c41a4"><td class="memItemLeft" align="right" valign="top">EVENT2_EXPORT_SYMBOL void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer__compat_8h.html#aad761da8c9bd8a0ab98aa19c2f1c41a4">evbuffer_setcb</a> (struct <a class="el" href="structevbuffer.html">evbuffer</a> *buffer, <a class="el" href="buffer__compat_8h.html#a6df4ae9e3d819c487ded545d2e1d41b0">evbuffer_cb</a> cb, void *cbarg)</td></tr>
<tr class="separator:aad761da8c9bd8a0ab98aa19c2f1c41a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af44d0b893f624295a4eeb5da8bbca100"><td class="memItemLeft" align="right" valign="top">EVENT2_EXPORT_SYMBOL unsigned char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer__compat_8h.html#af44d0b893f624295a4eeb5da8bbca100">evbuffer_find</a> (struct <a class="el" href="structevbuffer.html">evbuffer</a> *buffer, const unsigned char *what, size_t len)</td></tr>
<tr class="separator:af44d0b893f624295a4eeb5da8bbca100"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Obsolete and deprecated versions of the functions in <a class="el" href="buffer_8h.html">buffer.h</a>: provided only for backward compatibility. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a1c57a451c56dc1483a1c8aaeb9b92cc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c57a451c56dc1483a1c8aaeb9b92cc6">&#9670;&nbsp;</a></span>EVBUFFER_DATA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVBUFFER_DATA</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="buffer_8h.html#acd73ca99c3a793ea26c43307b9723bd6">evbuffer_pullup</a>((x), -1)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>deprecated in favor of calling the functions directly </p>

</div>
</div>
<a id="ab8d9564980e380cf1887f2be70f687ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8d9564980e380cf1887f2be70f687ad">&#9670;&nbsp;</a></span>EVBUFFER_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EVBUFFER_LENGTH</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="buffer_8h.html#a808db707e84e20229b2aafdcaba6c708">evbuffer_get_length</a>(x)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>deprecated in favor of calling the functions directly </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a6df4ae9e3d819c487ded545d2e1d41b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6df4ae9e3d819c487ded545d2e1d41b0">&#9670;&nbsp;</a></span>evbuffer_cb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* evbuffer_cb) (struct <a class="el" href="structevbuffer.html">evbuffer</a> *buffer, size_t old_len, size_t new_len, void *arg)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Type definition for a callback that is invoked whenever data is added or removed from an evbuffer.</p>
<p>An evbuffer may have one or more callbacks set at a time. The order in which they are executed is undefined.</p>
<p>A callback function may add more callbacks, or remove itself from the list of callbacks, or add or remove data from the buffer. It may not remove another callback from the list.</p>
<p>If a callback adds or removes data from the buffer or from another buffer, this can cause a recursive invocation of your callback or other callbacks. If you ask for an infinite loop, you might just get one: watch out!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>the buffer whose size has changed </td></tr>
    <tr><td class="paramname">old_len</td><td>the previous length of the buffer </td></tr>
    <tr><td class="paramname">new_len</td><td>the current length of the buffer </td></tr>
    <tr><td class="paramname">arg</td><td>a pointer to user data </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="af44d0b893f624295a4eeb5da8bbca100"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af44d0b893f624295a4eeb5da8bbca100">&#9670;&nbsp;</a></span>evbuffer_find()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EVENT2_EXPORT_SYMBOL unsigned char* evbuffer_find </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevbuffer.html">evbuffer</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>what</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find a string within an evbuffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>the evbuffer to be searched </td></tr>
    <tr><td class="paramname">what</td><td>the string to be searched for </td></tr>
    <tr><td class="paramname">len</td><td>the length of the search string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the beginning of the search string, or NULL if the search failed. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__compat_8h_af44d0b893f624295a4eeb5da8bbca100_cgraph.png" border="0" usemap="#buffer__compat_8h_af44d0b893f624295a4eeb5da8bbca100_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a4fea308404ec34c5daeec61f5e05bc08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fea308404ec34c5daeec61f5e05bc08">&#9670;&nbsp;</a></span>evbuffer_readline()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EVENT2_EXPORT_SYMBOL char* evbuffer_readline </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevbuffer.html">evbuffer</a> *&#160;</td>
          <td class="paramname"><em>buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Obsolete alias for evbuffer_readln(buffer, NULL, EVBUFFER_EOL_ANY).</p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000001">Deprecated:</a></b></dt><dd>This function is deprecated because its behavior is not correct for almost any protocol, and also because it's wholly subsumed by <a class="el" href="buffer_8h.html#a8bcc94903283574331994c9364be3d7b">evbuffer_readln()</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>the evbuffer to read from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to a single line, or NULL if an error occurred </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__compat_8h_a4fea308404ec34c5daeec61f5e05bc08_cgraph.png" border="0" usemap="#buffer__compat_8h_a4fea308404ec34c5daeec61f5e05bc08_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="aad761da8c9bd8a0ab98aa19c2f1c41a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad761da8c9bd8a0ab98aa19c2f1c41a4">&#9670;&nbsp;</a></span>evbuffer_setcb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EVENT2_EXPORT_SYMBOL void evbuffer_setcb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structevbuffer.html">evbuffer</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="buffer__compat_8h.html#a6df4ae9e3d819c487ded545d2e1d41b0">evbuffer_cb</a>&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cbarg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Replace all callbacks on an evbuffer with a single new callback, or remove them.</p>
<p>Subsequent calls to <a class="el" href="buffer__compat_8h.html#aad761da8c9bd8a0ab98aa19c2f1c41a4">evbuffer_setcb()</a> replace callbacks set by previous calls. Setting the callback to NULL removes any previously set callback.</p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000002">Deprecated:</a></b></dt><dd>This function is deprecated because it clears all previous callbacks set on the evbuffer, which can cause confusing behavior if multiple parts of the code all want to add their own callbacks on a buffer. Instead, use <a class="el" href="buffer_8h.html#a8abedc30187fe00d86b7b1cc4d3ce643">evbuffer_add()</a>, evbuffer_del(), and evbuffer_setflags() to manage your own evbuffer callbacks without interfering with callbacks set by others.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>the evbuffer to be monitored </td></tr>
    <tr><td class="paramname">cb</td><td>the callback function to invoke when the evbuffer is modified, or NULL to remove all callbacks. </td></tr>
    <tr><td class="paramname">cbarg</td><td>an argument to be provided to the callback function </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__compat_8h_aad761da8c9bd8a0ab98aa19c2f1c41a4_cgraph.png" border="0" usemap="#buffer__compat_8h_aad761da8c9bd8a0ab98aa19c2f1c41a4_cgraph" alt=""/></div>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
